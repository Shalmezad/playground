from pommerman.agents import BaseAgent
from pommerman import constants


class GpAgent(BaseAgent):
    """Because sometimes, evolution brings us interesting things"""
    def set_genome(self,genome):
        self.genome = genome
        return self

    def act(self, obs, action_space):
        #print(obs)
        # TODO: Convert obs to extended_obs
        return self.genome.evaluate(obs).value

#{'alive': [10, 11, 12, 13], 'board': array([[ 0,  2,  1,  2,  1,  2,  1,  1,  0,  1,  1],
#       [ 2, 10,  0,  0,  2,  0,  0,  0,  0,  0,  1],
#       [ 1,  0,  0,  1,  2,  8,  0,  0,  1,  0,  0],
#       [ 2,  0,  1,  0,  2,  1,  1,  0,  1,  0,  1],
#       [ 1,  2,  2,  2,  0,  2,  1,  7,  2, 13,  1],
#       [ 2,  7,  2,  1,  2,  0,  0,  1,  1,  2,  0],
#       [ 1,  0,  0,  1,  1,  0,  0,  1,  0,  2,  0],
#       [ 1,  0,  0,  0,  2,  1,  1,  0,  2,  0,  0],
#       [ 0,  0,  1,  1,  2,  1,  0,  2,  0,  0,  2],
#       [ 1,  0,  0,  0, 11,  2,  2,  0,  0, 12,  0],
#       [ 1,  1,  0,  1,  1,  0,  0,  0,  2,  0,  0]], dtype=uint8), 'bomb_blast_strength': array([[ 0.,  0.,  0.,  0.,  0.,  0.,  0., 0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.]]), 'bomb_life': array([[ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],
#       [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.]]), 
#       'position': (1, 1), 'blast_strength': 2, 'can_kick': False, 'teammate': <Item.Agent2: 12>, 'ammo': 1, 'enemies': [<Item.Agent1: 11>, <Item.Agent3: 13>, <Item.AgentDummy: 9>]}